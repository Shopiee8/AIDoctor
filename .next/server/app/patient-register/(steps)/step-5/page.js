(()=>{var e={};e.id=2048,e.ids=[2048],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11516:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},15079:(e,t,r)=>{"use strict";r.d(t,{Select:()=>c,SelectContent:()=>x,SelectItem:()=>h,SelectTrigger:()=>m,SelectValue:()=>u});var s=r(60687),a=r(43210),i=r(28695),l=r(61662),n=r(89743),o=r(58450),d=r(4780);let c=i.bL;i.YJ;let u=i.WT,m=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(i.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.l9.displayName;let p=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.PP,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}));p.displayName=i.PP.displayName;let f=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.wn,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})}));f.displayName=i.wn.displayName;let x=a.forwardRef(({className:e,children:t,position:r="popper",...a},l)=>(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[(0,s.jsx)(p,{}),(0,s.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(f,{})]})}));x.displayName=i.UC.displayName,a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.JU,{ref:r,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let h=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(i.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:t})]}));h.displayName=i.q7.displayName,a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.wv,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},26125:(e,t,r)=>{Promise.resolve().then(r.bind(r,92700))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29523:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>o});var s=r(60687),a=r(43210),i=r(11329),l=r(24224),n=r(4780);let o=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...l},d)=>{let c=a?i.DX:"button";return(0,s.jsx)(c,{className:(0,n.cn)(o({variant:t,size:r,className:e})),ref:d,...l})});d.displayName="Button"},31568:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(43210),a=r(49315);let i=()=>{let e=(0,s.useContext)(a.c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>n,wL:()=>u});var s=r(60687),a=r(43210),i=r(4780);let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},58450:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},62509:(e,t,r)=>{Promise.resolve().then(r.bind(r,92438))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67969:(e,t,r)=>{"use strict";function s(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{q:()=>s})},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71669:(e,t,r)=>{"use strict";r.d(t,{C5:()=>y,MJ:()=>h,Rr:()=>g,eI:()=>f,lR:()=>x,lV:()=>d,zB:()=>u});var s=r(60687),a=r(43210),i=r(11329),l=r(27605),n=r(4780),o=r(80013);let d=l.Op,c=a.createContext({}),u=({...e})=>(0,s.jsx)(c.Provider,{value:{name:e.name},children:(0,s.jsx)(l.xI,{...e})}),m=()=>{let e=a.useContext(c),t=a.useContext(p),{getFieldState:r,formState:s}=(0,l.xW)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...i}},p=a.createContext({}),f=a.forwardRef(({className:e,...t},r)=>{let i=a.useId();return(0,s.jsx)(p.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",e),...t})})});f.displayName="FormItem";let x=a.forwardRef(({className:e,...t},r)=>{let{error:a,formItemId:i}=m();return(0,s.jsx)(o.Label,{ref:r,className:(0,n.cn)(a&&"text-destructive",e),htmlFor:i,...t})});x.displayName="FormLabel";let h=a.forwardRef(({...e},t)=>{let{error:r,formItemId:a,formDescriptionId:l,formMessageId:n}=m();return(0,s.jsx)(i.DX,{ref:t,id:a,"aria-describedby":r?`${l} ${n}`:`${l}`,"aria-invalid":!!r,...e})});h.displayName="FormControl";let g=a.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:a}=m();return(0,s.jsx)("p",{ref:r,id:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})});g.displayName="FormDescription";let y=a.forwardRef(({className:e,children:t,...r},a)=>{let{error:i,formMessageId:l}=m(),o=i?String(i?.message??""):t;return o?(0,s.jsx)("p",{ref:a,id:l,className:(0,n.cn)("text-sm font-medium text-destructive",e),...r,children:o}):null});y.displayName="FormMessage"},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},75806:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var s=r(85665),a=r(59350);let i={personalDetails:{gender:"male",hasPreExistingConditions:!1,isTakingMedication:!1,isPregnant:!1},familyMembers:{self:!0,spouse:!1,childCount:0,mother:!1,father:!1},familyDetails:{},location:{city:"",state:""}},l=(0,s.vt)()((0,a.Zr)(e=>({...i,setPersonalDetails:t=>e({personalDetails:t}),setFamilyMembers:t=>e({familyMembers:t}),setFamilyDetails:t=>e({familyDetails:t}),setLocation:t=>e({location:t}),clearStore:()=>e(i)}),{name:"patient-registration-storage",storage:(0,a.KU)(()=>sessionStorage)}))},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,r)=>{"use strict";r.d(t,{Label:()=>d});var s=r(60687),a=r(43210),i=r(78148),l=r(24224),n=r(4780);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.b,{ref:r,className:(0,n.cn)(o(),e),...t}));d.displayName=i.b.displayName},81630:e=>{"use strict";e.exports=require("http")},83721:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(43210);function a(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},86766:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),l=r.n(i),n=r(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d={children:["",{children:["patient-register",{children:["(steps)",{children:["step-5",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92438)),"/home/user/studio/src/app/patient-register/(steps)/step-5/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94640)),"/home/user/studio/src/app/patient-register/(steps)/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/patient-register/(steps)/step-5/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/patient-register/(steps)/step-5/page",pathname:"/patient-register/step-5",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91645:e=>{"use strict";e.exports=require("net")},92438:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/patient-register/(steps)/step-5/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/patient-register/(steps)/step-5/page.tsx","default")},92700:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(60687),a=r(43210),i=r(16189),l=r(27605),n=r(63442),o=r(45880),d=r(75806),c=r(31568),u=r(75535),m=r(33784),p=r(29867),f=r(29523),x=r(44493),h=r(15079),g=r(71669),y=r(12095),v=r(11516),b=r(85814),j=r.n(b);let N=o.z.object({city:o.z.string().min(1,"City is required"),state:o.z.string().min(1,"State is required")});function w(){let e=(0,i.useRouter)(),{user:t}=(0,c.A)(),{toast:r}=(0,p.dj)(),{personalDetails:o,familyMembers:b,familyDetails:w,location:C,setLocation:S,clearStore:R}=(0,d.c)(),[P,I]=(0,a.useState)(!1),q=(0,l.mN)({resolver:(0,n.u)(N),defaultValues:C});async function A(s){if(S(s),I(!0),!t){r({title:"Error",description:"You must be logged in to complete registration.",variant:"destructive"}),I(!1);return}try{let a={personalDetails:o,familyMembers:b,familyDetails:w,location:s,userId:t.uid,email:t.email,createdAt:new Date},i=function(e){let t={},r={};if(e.personalDetails){for(let[t,s]of Object.entries(e.personalDetails))if(null!=s&&""!==s)if(["age","weight","height"].includes(t)){let e=Number(s);isNaN(e)||(r[t]=e)}else r[t]=s}Object.keys(r).length>0&&(t.personalDetails=r),t.familyMembers=e.familyMembers;let s={};if(e.familyDetails){for(let[t,r]of Object.entries(e.familyDetails))if(null!=r&&""!==r)if("child_ages"===t&&Array.isArray(r)){let e=r.map(e=>Number(e)).filter(e=>!isNaN(e)&&null!==e);e.length>0&&(s[t]=e)}else{let e=Number(r);isNaN(e)||(s[t]=e)}}return Object.keys(s).length>0&&(t.familyDetails=s),t.location=e.location,t.userId=e.userId,t.email=e.email,t.createdAt=e.createdAt,t}(a);await (0,u.BN)((0,u.H9)(m.db,"users",t.uid),i,{merge:!0}),r({title:"Registration Complete!",description:"Your profile has been created successfully."}),R(),e.push("/dashboard")}catch(e){console.error("Failed to save registration data:",e),r({title:"Error",description:"Failed to save your information. Please try again.",variant:"destructive"})}finally{I(!1)}}return(0,s.jsxs)(x.Zp,{className:"w-full",children:[(0,s.jsxs)(x.aR,{className:"text-center",children:[(0,s.jsx)(j(),{href:"/",className:"inline-block mb-4",children:(0,s.jsx)(y.A,{className:"h-8 w-8 text-primary mx-auto"})}),(0,s.jsxs)("div",{className:"flex justify-center gap-2 my-4",children:[(0,s.jsx)(j(),{href:"/patient-register/step-1",className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/20 text-primary font-bold",children:"1"}),(0,s.jsx)(j(),{href:"/patient-register/step-2",className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/20 text-primary font-bold",children:"2"}),(0,s.jsx)(j(),{href:"/patient-register/step-3",className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/20 text-primary font-bold",children:"3"}),(0,s.jsx)(j(),{href:"/patient-register/step-4",className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/20 text-primary font-bold",children:"4"}),(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground font-bold",children:"5"})]}),(0,s.jsx)(x.ZB,{className:"text-2xl font-headline",children:"Your Location"})]}),(0,s.jsx)(x.Wu,{children:(0,s.jsx)(g.lV,{...q,children:(0,s.jsxs)("form",{onSubmit:q.handleSubmit(A),className:"space-y-6",children:[(0,s.jsx)(g.zB,{control:q.control,name:"city",render:({field:e})=>(0,s.jsxs)(g.eI,{children:[(0,s.jsx)(g.lR,{children:"Select City"}),(0,s.jsxs)(h.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(g.MJ,{children:(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{placeholder:"Select Your City"})})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"ny",children:"New York"}),(0,s.jsx)(h.SelectItem,{value:"la",children:"Los Angeles"}),(0,s.jsx)(h.SelectItem,{value:"chicago",children:"Chicago"}),(0,s.jsx)(h.SelectItem,{value:"houston",children:"Houston"}),(0,s.jsx)(h.SelectItem,{value:"miami",children:"Miami"})]})]}),(0,s.jsx)(g.C5,{})]})}),(0,s.jsx)(g.zB,{control:q.control,name:"state",render:({field:e})=>(0,s.jsxs)(g.eI,{children:[(0,s.jsx)(g.lR,{children:"Select State"}),(0,s.jsxs)(h.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(g.MJ,{children:(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{placeholder:"Select Your State"})})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"ny",children:"New York"}),(0,s.jsx)(h.SelectItem,{value:"ca",children:"California"}),(0,s.jsx)(h.SelectItem,{value:"il",children:"Illinois"}),(0,s.jsx)(h.SelectItem,{value:"tx",children:"Texas"}),(0,s.jsx)(h.SelectItem,{value:"fl",children:"Florida"})]})]}),(0,s.jsx)(g.C5,{})]})}),(0,s.jsxs)(f.$,{type:"submit",className:"w-full",disabled:P,children:[P?(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,P?"Saving...":"Complete Registration"]})]})})})]})}},94640:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(37413);function a({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,s.jsx)("div",{className:"flex-grow flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:e})}),(0,s.jsxs)("footer",{className:"py-4 text-center text-xs text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," AIDoctor. All Rights Reserved."]})]})}},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,9986,9567,417,5367,7605,2105,7300,8409,5941],()=>r(86766));module.exports=s})();